(function(e){function t(t){for(var i,a,o=t[0],r=t[1],l=t[2],c=0,h=[];c<o.length;c++)a=o[c],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);d&&d(t);while(h.length)h.shift()();return u.push.apply(u,l||[]),s()}function s(){for(var e,t=0;t<u.length;t++){for(var s=u[t],i=!0,o=1;o<s.length;o++){var r=s[o];0!==n[r]&&(i=!1)}i&&(u.splice(t--,1),e=a(a.s=s[0]))}return e}var i={},n={app:0},u=[];function a(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=i,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(s,i,function(t){return e[t]}.bind(null,i));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=r;u.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"08f2":function(e,t,s){"use strict";var i=s("597f"),n=s.n(i);n.a},"16b5":function(e,t,s){"use strict";var i=s("f68d"),n=s.n(i);n.a},"1a26":function(e,t,s){"use strict";var i=s("bd0f"),n=s.n(i);n.a},"1c79":function(e,t,s){},"22e2":function(e,t,s){"use strict";var i=s("716f"),n=s.n(i);n.a},"2cbc":function(e,t,s){"use strict";var i=s("31c2"),n=s.n(i);n.a},"31c2":function(e,t,s){},4768:function(e,t,s){},"47de":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("a026"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e._e(),s("transition",{attrs:{name:"left-to-right"}},[s("longread",{attrs:{is_author:!1}})],1),e.$store.state.loaded_page?e._e():s("div",{staticClass:"loader-background"},[e.$store.state.loaded_page?e._e():s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"loader-wrapper"},[s("div",{staticClass:"loader"})])])],1)],1)},u=[],a=(s("b0c0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"navbar",class:{collapsed:e.$store.state.sidenav_collapsed}},[i("div",{staticClass:"links"},[i("div",{staticClass:"logo"},[e._v("interactor")]),i("router-link",{staticClass:"button button-without-border link",attrs:{to:"/"}},[e._v("Главная")]),e.$store.state.logged?[i("router-link",{staticClass:"link button button-without-border",attrs:{to:"/"+e.$store.state.user_slug,replace:""}},[e._v("Уроки")]),e.$store.state.admin?i("router-link",{staticClass:"link button button-without-border",attrs:{to:"/admin",replace:""}},[e._v("Админ")]):e._e(),e.$store.state.logged?i("a",{staticClass:"link button button-without-border",attrs:{href:"#"},on:{click:e.logoff}},[e._v("Выйти")]):e._e()]:[i("router-link",{staticClass:"link button button-without-border",attrs:{to:"/demo"}},[e._v("Опробовать")]),i("router-link",{staticClass:"link button button-without-border",attrs:{to:"/login"}},[e._v("Войти")]),i("router-link",{staticClass:"link button button-without-border",attrs:{to:"/register"}},[e._v("Зарегистрироваться")])],i("router-link",{staticClass:"link button button-without-border mt-5",attrs:{to:"/feedback"}},[e._v("Обратная связь")])],2),i("div",{staticClass:"menu"},[i("img",{attrs:{src:s("c8fa")},on:{click:function(t){e.panel=!e.panel}}})]),i("div",{staticClass:"button toggle",on:{click:e.toggle_sidenav}},[e.$store.state.sidenav_collapsed?[e._v(" Покажу меню ")]:[e._v(" Скрою меню ")]],2)])}),o=[],r={data:function(){return{panel:!1}},methods:{logoff:function(){localStorage.removeItem("token"),localStorage.removeItem("user_slug"),this.$store.state.logged=!1,this.panel=!1,this.$router.push("/")},toggle_sidenav:function(){this.$store.commit("setSidenavCollapsed",!this.$store.state.sidenav_collapsed)}}},l=r,d=(s("8f0a"),s("2877")),c=Object(d["a"])(l,a,o,!1,null,"73bb7d17",null),h=c.exports,m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ld",class:{"ld-loading":!e.media_loaded}},[e.is_author&&"demo"!=e.$route.name?s("div",{staticClass:"ld-tools"},[s("div",[e._v(" Название "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.longread.longread.name,expression:"$store.state.longread.longread.name"}],staticClass:"text-field",domProps:{value:e.$store.state.longread.longread.name},on:{input:function(t){t.target.composing||e.$set(e.$store.state.longread.longread,"name",t.target.value)}}})]),s("span",{staticClass:"button",on:{click:e.saveName}},[e._v(" Сохранить имя ")]),s("span",{staticClass:"button",on:{click:function(t){e.settings_show=!0}}},[e._v(" Настройки доступа ")]),s("span",{staticClass:"button",on:{click:function(t){e.settings_style=!0}}},[e._v(" Стиль ")]),s("span",{staticClass:"button",on:{click:e.share}},[e._v(" Поделиться ")]),s("span",{staticClass:"button",on:{click:function(t){e.delete_ld=!0}}},[e._v(" Удалить ")])]):e._e(),e._l(e.$store.state.longread.structure,(function(t,i){return[e.$store.state.longread.is_editing&&e.$store.state.longread.structure.length>1&&i>0&&t.is_editing?s("ld-add-element",{key:"ldadd"+t.subtype+i,attrs:{index:i,root:!0}}):e._e(),s("transition",{key:"trans"+t.subtype+i,attrs:{name:"top-to-bottom"}},[s("ld-container",{key:t.subtype+i,attrs:{m_map:[i]}})],1)]})),0==e.$store.state.longread.structure.length&&e.$store.state.longread.is_author?s("p",{staticStyle:{"text-align":"center",padding:"100px 0 0"}},[e._v("Начни с добавления элемента:")]):e._e(),s("transition",{attrs:{name:"top-to-bottom"}},[e.$store.state.longread.is_editing?s("ld-add-element",{staticClass:"active",attrs:{index:e.$store.state.longread.structure.length,root:!0}}):e._e()],1),e.headers.length>0?s("div",{staticClass:"ld-navigation"},[s("ul",{staticClass:"ld-navigation-items"},e._l(e.headers,(function(t,i){return s("li",{key:"header"+i,on:{click:function(s){return e.scrollTo(t)}}},[s("span",{staticClass:"ld-navigation-link",domProps:{innerHTML:e._s(t.innerHTML)}})])})),0)]):e._e(),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],ref:"link_longread"},[e._v(" https://interactor.su/"+e._s(e.$store.state.user_slug+"/"+e.$store.state.longread.longread.slug)+" ")]),e.settings_show?s("modal",{attrs:{fromjs:!1,type:"transparent"},on:{hide:function(t){e.settings_show=!1}}},[s("span",{staticStyle:{"font-size":"12px"}},[e._v("При включении для доступа к вашему лонгриду будет необходимо ввести пароль")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.longread.options.password_options.use_pass,expression:"$store.state.longread.options.password_options.use_pass"}],attrs:{type:"checkbox",name:"pass"},domProps:{checked:Array.isArray(e.$store.state.longread.options.password_options.use_pass)?e._i(e.$store.state.longread.options.password_options.use_pass,null)>-1:e.$store.state.longread.options.password_options.use_pass},on:{change:function(t){var s=e.$store.state.longread.options.password_options.use_pass,i=t.target,n=!!i.checked;if(Array.isArray(s)){var u=null,a=e._i(s,u);i.checked?a<0&&e.$set(e.$store.state.longread.options.password_options,"use_pass",s.concat([u])):a>-1&&e.$set(e.$store.state.longread.options.password_options,"use_pass",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.$store.state.longread.options.password_options,"use_pass",n)}}}),s("label",{attrs:{for:"pass"}},[e._v("Доступ по паролю")]),e.$store.state.longread.options.password_options.use_pass?s("div",[s("p",[e._v("Введите пароль для доступа: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.longread.options.password_options.pass,expression:"$store.state.longread.options.password_options.pass"}],attrs:{placeholder:"Пароль"},domProps:{value:e.$store.state.longread.options.password_options.pass},on:{input:function(t){t.target.composing||e.$set(e.$store.state.longread.options.password_options,"pass",t.target.value)}}})]):e._e()]):e._e(),e.settings_style?s("modal",{attrs:{fromjs:!1,type:"transparent"},on:{hide:function(t){e.settings_style=!1}}},[s("textarea",{directives:[{name:"show",rawName:"v-show",value:!e.$store.state.longread.options.style_options.file,expression:"!$store.state.longread.options.style_options.file"},{name:"model",rawName:"v-model",value:e.$store.state.longread.options.style_options.value,expression:"$store.state.longread.options.style_options.value"}],staticClass:"textarea-style",domProps:{value:e.$store.state.longread.options.style_options.value},on:{input:function(t){t.target.composing||e.$set(e.$store.state.longread.options.style_options,"value",t.target.value)}}}),e.$store.state.longread.options.style_options.file?s("dropzone",{attrs:{type:"css",file:e.$store.state.longread.options.style_options.value,url:e.$store.state.api_url+"uploadstyle"},on:{change_src:function(t){return e.change_style_src()}}}):e._e()],1):e._e(),e.index_number?s("modal",{attrs:{fromjs:!1,type:"transparent"},on:{hide:function(t){e.index_number=!1}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.longread.options.password_options.use_pass,expression:"$store.state.longread.options.password_options.use_pass"}],attrs:{type:"checkbox",name:"pass"},domProps:{checked:Array.isArray(e.$store.state.longread.options.password_options.use_pass)?e._i(e.$store.state.longread.options.password_options.use_pass,null)>-1:e.$store.state.longread.options.password_options.use_pass},on:{change:function(t){var s=e.$store.state.longread.options.password_options.use_pass,i=t.target,n=!!i.checked;if(Array.isArray(s)){var u=null,a=e._i(s,u);i.checked?a<0&&e.$set(e.$store.state.longread.options.password_options,"use_pass",s.concat([u])):a>-1&&e.$set(e.$store.state.longread.options.password_options,"use_pass",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.$store.state.longread.options.password_options,"use_pass",n)}}})]):e._e(),e.delete_ld?s("modal",{attrs:{fromjs:!1,type:"transparent"},on:{hide:function(t){e.delete_ld=!1}}},[s("p",[e._v("Для удаления введите название ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.deletion_name,expression:"deletion_name"}],attrs:{placeholder:"Название"},domProps:{value:e.deletion_name},on:{input:function(t){t.target.composing||(e.deletion_name=t.target.value)}}}),s("button",{staticClass:"modal-default-button",on:{click:e.delete_confirm}},[e._v(" Удалить ")])]):e._e(),e.$store.state.longread.is_locked?s("modal",{attrs:{fromjs:!1,type:"locked"}},[s("p",[e._v("Введите пароль для доступа: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],attrs:{placeholder:"Пароль"},domProps:{value:e.pass},on:{input:function(t){t.target.composing||(e.pass=t.target.value)}}}),s("button",{staticClass:"modal-default-button",on:{click:e.sendPass}},[e._v(" Открыть ")]),s("button",{staticClass:"modal-default-button",on:{click:e.goBack}},[e._v(" Назад ")])]):e._e()],2)},g=[],_=s("bc3a"),p=s.n(_),f={data:function(){return{interval:"",headers:[],settings_show:!1,index_number:!1,pass:"",delete_ld:!1,deletion_name:"",settings_style:!1,hidden:!0}},beforeCreate:function(){this.$store.commit("setSidenavCollapsed",!0)},mounted:function(){var e=this;this.is_demo&&this.$store.commit("longread/setIsDemo",!0),"IntersectionObserver"in window||this.$store.dispatch("lazyForceLoad"),this.$store.dispatch("initObserver"),this.$store.dispatch("longread/setIsAuthor",this.is_author),this.$store.dispatch("longread/setIsEditing",this.is_author),this.$store.dispatch("setMediaLoaded"),this.$store.dispatch("longread/getStructure",this.$router),this.is_author&&"/demo"!=this.$route.path&&(this.interval=setInterval((function(){return e.checkSaveCodes()}),this.$store.state.longread_update_interval)),this.is_demo&&this.$store.commit("setLoadedPage",!0)},beforeDestroy:function(){clearInterval(this.interval),this.$store.commit("setLoadedPage",!1)},methods:{change_style_src:function(e){console.log(e)},copyToClipboard:function(e){var t="_hiddenCopyText_",s=document.getElementById(t);s||(s=document.createElement("textarea"),s.style.position="absolute",s.style.left="-9999px",s.style.top="0",s.id=t,document.body.appendChild(s)),s.textContent=e.textContent;var i,n=document.activeElement;s.focus(),s.setSelectionRange(0,s.value.length);try{i=document.execCommand("copy")}catch(u){i=!1}return n&&"function"===typeof n.focus&&n.focus(),s.textContent="",i},share:function(){this.$modal.methods.open("info","Ссылка скопирована в буфер обмена"),this.copyToClipboard(this.$refs.link_longread)},delete_confirm:function(){if(this.$store.state.longread.longread.name==this.deletion_name){var e=localStorage.getItem("token"),t=this;p()({method:"POST",url:t.$store.state.api_url+"deletelongread",headers:{Authorization:"Bearer "+e},data:{id:t.$store.state.longread.longread.id,token:e}}).then((function(e){console.log(e.data),t.deletion_name="",window.location="https://interactor.su/"+t.$store.state.user_slug})).catch((function(e){console.log(e.response);var s="";for(var i in e.response.data)s=s+" "+e.response.data[i];t.$modal.methods.open("error",s)}))}else this.$modal.methods.open("error","Имя не совпадает")},goBack:function(){this.$store.state.longread.is_locked=!1,this.$router.back()},sendPass:function(){var e={router:this.$router,pass:this.pass};this.$store.dispatch("longread/getLockedStructure",e)},scrollTo:function(e){e.scrollIntoView({behavior:"smooth",block:"start"})},checkSaveCodes:function(){this.$store.state.longread.save_code!=this.$store.state.longread.save_code_local&&this.saveLongread()},saveLongread:function(){var e=localStorage.getItem("token"),t=this;p()({method:"POST",url:t.$store.state.api_url+"savelongread",headers:{Authorization:"Bearer "+e},data:{id:t.$store.state.longread.longread.id,longread_structure:t.$store.state.longread.structure,longread_options:t.$store.state.longread.options,token:e}}).then((function(e){t.$store.state.longread.save_code=e.data.save_code,t.$store.state.longread.save_code_local=e.data.save_code,console.log(e.data.message)})).catch((function(e){console.log(e.response);var s="";for(var i in e.response.data)s=s+" "+e.response.data[i];t.$modal.methods.open("error",s)}))},saveName:function(){var e=localStorage.getItem("token"),t=this;p()({method:"POST",url:t.$store.state.api_url+"savelongreadname",headers:{Authorization:"Bearer "+e},data:{id:t.$store.state.longread.longread.id,name:t.$store.state.longread.longread.name,token:e}}).then((function(e){console.log(e.data),t.$store.state.longread.longread.slug=e.data.newslug,t.$router.push("/"+t.$store.state.user_slug+"/"+e.data.newslug+"/edit")})).catch((function(e){console.log(e.response);var s="";for(var i in e.response.data)s=s+" "+e.response.data[i];t.$modal.methods.open("error",s)}))}},computed:{media_loaded:function(){return this.$store.state.media_loaded},loaded:function(){return this.$store.state.longread.loaded}},watch:{loaded:function(){var e=this;this.is_demo||"editlongread"==this.$router.currentRoute.name||this.$nextTick((function(){e.headers=document.querySelectorAll(".ld-header")}))}},props:{is_author:{required:!0},is_demo:{default:function(){return!1}},structure:{default:function(){return null}}}},v=f,b=(s("68bc"),Object(d["a"])(v,m,g,!1,null,null,null)),y=b.exports,w={mounted:function(){if(localStorage.getItem("token")){var e=localStorage.getItem("user_slug");"true"==localStorage.getItem("admin")?this.$store.state.admin=!0:this.$store.state.admin=!1,this.$store.state.logged=!0,this.$store.dispatch("setUserSlug",e)}this.check_show_navbar()},methods:{check_show_navbar:function(){"/s/3/1"!==this.$router.currentRoute.path&&"/s/3/2"!==this.$router.currentRoute.path&&"/s/3/3"!==this.$router.currentRoute.path&&"/s/3/4"!==this.$router.currentRoute.path&&"/s/3/5"!==this.$router.currentRoute.path&&"/s/3/6"!==this.$router.currentRoute.path&&"/s/3/7"!==this.$router.currentRoute.path&&"/s/3/8"!==this.$router.currentRoute.path&&"embed"!==this.$router.currentRoute.name&&(this.show_navbar=!0)}},data:function(){return{show_navbar:!1}},components:{navbar:h,Longread:y}},x=w,$=(s("c498"),Object(d["a"])(x,n,u,!1,null,null,null)),k=$.exports,C=s("8c4f"),z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("longread",{attrs:{is_author:e.is_admin}})],1)},S=[],E={mounted:function(){console.log("view")},components:{Longread:y},props:{is_admin:{required:!0}}},j=E,O=Object(d["a"])(j,z,S,!1,null,null,null),N=O.exports;i["a"].use(C["a"]);var P=[{path:"/",component:N,name:"viewlongread",props:{is_admin:!1}}],L=new C["a"]({mode:"history",base:"",routes:P}),I=L,T=(s("4160"),s("159b"),s("2f62"));s("a434");function F(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}var A={set:function(e,t){F&&localStorage.setItem(e,JSON.stringify(t))},get:function(e){return!(!F||!localStorage.getItem(e))&&JSON.parse(localStorage.getItem(e))}},q=function(e,t){return e||(t||void 0)},R={namespaced:!0,state:function(){return{is_editing:!1,is_author:!1,is_locked:!1,is_demo:!1,structure:[],options:{},longread:{},loaded:!1,save_code:-1,save_code_local:-2}},getters:{element:function(e){return function(t){for(var s,i=e.structure,n=0;n<t.length;n++)s=i[t[n]],i=s.elements;return s}}},mutations:{setIsEditing:function(e,t){e.is_editing=t},setIsAuthor:function(e,t){e.is_author=t},setSaveCode:function(e,t){e.save_code=t},setSaveCodeLocal:function(e,t){e.save_code_local=t},setIsDemo:function(e,t){e.is_demo=t},setIsLocked:function(e,t){e.is_locked=t},setStructure:function(e,t){e.structure=t},setOptions:function(e,t){e.options=t},setLongread:function(e,t){e.longread=t},setLoaded:function(e,t){e.loaded=t},addElement:function(e,t){t.destination.splice(t.index,0,t.element),A.set("longread_structure",e.structure),e.save_code_local=1},removeElement:function(e,t){t.source.splice(t.index,1),A.set("longread_structure",e.structure),e.save_code_local=1},changeElement:function(e,t){for(var s in t.changes)t.source[t.index][s]=t.changes[s];A.set("longread_structure",e.structure),e.save_code_local=1}},actions:{setIsEditing:function(e,t){var s=e.commit;s("setIsEditing",t)},setIsAuthor:function(e,t){var s=e.commit;s("setIsAuthor",t)},getLockedStructure:function(e,t){var s,i,n,u=e.commit;localStorage.removeItem("longread_structure");var a=this;p()({method:"POST",url:a.state.api_url+"view",data:{user:t.router.currentRoute.params.user,slug:t.router.currentRoute.params.slug,pass:t.pass,stage:1}}).then((function(e){if(e.data.status){n=e.data.longread,s=JSON.parse(n.longread_structure),i=JSON.parse(n.longread_options);var t=i.style_options.value,o=document.createElement("style");o.type="text/css",o.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(o),u("setStructure",s),u("setOptions",i),u("setLongread",n),u("setLoaded",!0),u("setIsLocked",!1),a.commit("setLoadedPage",!0)}else a.commit("setLoadedPage",!0),a.$modal.methods.open("error","Неправильный пароль");console.log(e.data)})).catch((function(e){console.log(e.response)}))},getStructure:function(e,t){var s=e.commit;if("demo"!=t.currentRoute.name){localStorage.removeItem("longread_structure");var i={id:1,name:"Искусство манипуляции",longread_structure:'[{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"subtype":"intro","name":"\\u0418\\u043d\\u0442\\u0440\\u043e","component":"ld-intro","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/TzCzuJH9ZDDNlnFbD1Ct2vqib3AVoAxqYFotuyuA.mp4","fileName":"asdasd.mp4","size":104887,"header":"\\u201c\\u041f\\u043e\\u0447\\u0435\\u043c\\u0443 \\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433 - \\u0434\\u0432\\u0438\\u0433\\u0430\\u0442\\u0435\\u043b\\u044c \\u0432\\u0441\\u0435\\u0433\\u043e \\u0432\\u043e\\u043a\\u0440\\u0443\\u0433?\\u201d","desc":"1. \\u0412\\u0432\\u0435\\u0434\\u0435\\u043d\\u0438\\u0435 \\u0432 \\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433","type":"video\\/mp4","is_editing":false,"is_editing_highlights":false,"loaded":true}],"is_editing":false,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":false,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"header","name":"\\u0417\\u0430\\u0433\\u043e\\u043b\\u043e\\u0432\\u043e\\u043a","component":"ld-header","value":"\\u0427\\u0442\\u043e \\u044f \\u043f\\u043e\\u043b\\u0443\\u0447\\u0443 \\u0432 \\u043a\\u043e\\u043d\\u0446\\u0435 \\u043a\\u0443\\u0440\\u0441\\u0430?","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"paragraph","name":"\\u0422\\u0435\\u043a\\u0441\\u0442","component":"ld-paragraph","value":"\\u0422\\u044b \\u043d\\u0430\\u0443\\u0447\\u0438\\u0448\\u044c\\u0441\\u044f \\u0437\\u0430\\u0440\\u0430\\u0431\\u0430\\u0442\\u044b\\u0432\\u0430\\u0442\\u044c \\u0434\\u0435\\u043d\\u044c\\u0433\\u0438 \\u043d\\u0430  \\"\\u043a\\u0430\\u0440\\u043c\\u0430\\u043d\\u043d\\u044b\\u0435 \\u0440\\u0430\\u0441\\u0445\\u043e\\u0434\\u044b\\", \\u043f\\u0440\\u043e\\u0434\\u0432\\u0438\\u0433\\u0430\\u044f \\u0441\\u0432\\u043e\\u0439 \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442-\\"\\u0444\\u0438\\u0448\\u043a\\u0443\\".","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"header","name":"\\u0417\\u0430\\u0433\\u043e\\u043b\\u043e\\u0432\\u043e\\u043a","component":"ld-header","value":"\\u0427\\u0442\\u043e \\u0442\\u0430\\u043a\\u043e\\u0435 \\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433?","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"paragraph","name":"\\u0422\\u0435\\u043a\\u0441\\u0442","component":"ld-paragraph","value":"\\u041c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433 \\u044d\\u0442\\u043e \\u043a\\u043e\\u043c\\u043f\\u043b\\u0435\\u043a\\u0441 \\u0438\\u043d\\u0441\\u0442\\u0440\\u0443\\u043c\\u0435\\u043d\\u0442\\u043e\\u0432, \\u043d\\u0435\\u043e\\u0431\\u0445\\u043e\\u0434\\u0438\\u043c\\u044b\\u0445 \\u0434\\u043b\\u044f \\u0441\\u043e\\u0437\\u0434\\u0430\\u043d\\u0438\\u044f \\u0438 \\u043f\\u0440\\u043e\\u0434\\u0432\\u0438\\u0436\\u0435\\u043d\\u0438\\u044f \\u043f\\u0440\\u043e\\u0434\\u0443\\u043a\\u0442\\u0430 (\\u0443\\u0441\\u043b\\u0443\\u0433\\u0438).\\n<p>marketing - market (\\u0440\\u044b\\u043d\\u043e\\u043a) \\u0438 ing (\\u0434\\u0435\\u044f\\u0442\\u0435\\u043b\\u044c\\u043d\\u043e\\u0441\\u0442\\u044c) - \\u0442.\\u0435 \\u0434\\u0435\\u044f\\u0442\\u0435\\u043b\\u044c\\u043d\\u043e\\u0441\\u0442\\u044c, \\u043d\\u0430\\u043f\\u0440\\u0430\\u0432\\u043b\\u0435\\u043d\\u043d\\u0430\\u044f \\u043d\\u0430 \\u0443\\u043f\\u0440\\u0430\\u0432\\u043b\\u0435\\u043d\\u0438\\u0435 \\u0440\\u044b\\u043d\\u043a\\u043e\\u043c.<\\/p>","is_editing":false,"is_editing_highlights":false}],"is_editing":false,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":false,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"header","name":"\\u0417\\u0430\\u0433\\u043e\\u043b\\u043e\\u0432\\u043e\\u043a","component":"ld-header","value":"\\u042d\\u0442\\u0430\\u043f\\u044b \\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433\\u0430:","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"paragraph","name":"\\u0422\\u0435\\u043a\\u0441\\u0442","component":"ld-paragraph","value":"<html>\\n <body>\\n   <hr>\\n   <ul>\\n     <li>\\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433\\u043e\\u0432\\u044b\\u0435 \\u0438\\u0441\\u0441\\u043b\\u0435\\u0434\\u043e\\u0432\\u0430\\u043d\\u0438\\u044f (\\u0440\\u044b\\u043d\\u043e\\u043a, \\u043a\\u043e\\u043d\\u043a\\u0443\\u0440\\u0435\\u043d\\u0442\\u044b, \\u043f\\u043e\\u0442\\u0440\\u0435\\u0431\\u0438\\u0442\\u0435\\u043b\\u0438); <\\/li>\\n     <li>\\u0441\\u0442\\u0440\\u0430\\u0442\\u0435\\u0433\\u0438\\u044f;<\\/li>\\n     <li>\\u043f\\u0440\\u043e\\u0433\\u043d\\u043e\\u0437 \\u043f\\u0440\\u043e\\u0434\\u0430\\u0436;<\\/li>\\n     <li>\\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433\\u043e\\u0432\\u044b\\u0439 (\\u0442\\u0430\\u043a\\u0442\\u0438\\u0447\\u0435\\u0441\\u043a\\u0438\\u0439) \\u043f\\u043b\\u0430\\u043d;<\\/li>\\n     <li>\\u0440\\u0435\\u0430\\u043b\\u0438\\u0437\\u0430\\u0446\\u0438\\u044f \\u043f\\u043b\\u0430\\u043d\\u0430 \\u0441 \\u0438\\u0441\\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435\\u043c \\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433\\u043e\\u0432\\u044b\\u0445 \\u0438\\u043d\\u0441\\u0442\\u0440\\u0443\\u043c\\u0435\\u043d\\u0442\\u043e\\u0432.<\\/li>\\n     <l","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"header","name":"\\u0417\\u0430\\u0433\\u043e\\u043b\\u043e\\u0432\\u043e\\u043a","component":"ld-header","value":"\\u0413\\u0434\\u0435 \\u0435\\u0441\\u0442\\u044c \\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433?","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"youtube","name":"YouTube","component":"ld-iframe","url":"https:\\/\\/youtu.be\\/VY-TV6dpKDw","highlights":[],"triple":false,"options":[],"is_editing":true,"is_editing_highlights":false,"desc":null}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"youtube","name":"YouTube","component":"ld-iframe","url":"https:\\/\\/youtu.be\\/S2nBBMbjS8w","highlights":[],"triple":false,"options":[],"is_editing":true,"is_editing_highlights":false,"desc":null}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"youtube","name":"YouTube","component":"ld-iframe","url":"https:\\/\\/youtu.be\\/xffOCZYX6F8","highlights":[],"triple":false,"options":[],"is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"paragraph","name":"\\u0422\\u0435\\u043a\\u0441\\u0442","component":"ld-paragraph","value":"\\u041a\\u043e\\u043c\\u0430\\u043d\\u0434\\u0430 \\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u043e\\u043b\\u043e\\u0433\\u043e\\u0432 Coca-Cola \\u0431\\u043e\\u043b\\u0435\\u0435 100 \\u043b\\u0435\\u0442 \\u0440\\u0430\\u0441\\u0441\\u043a\\u0430\\u0437\\u044b\\u0432\\u0430\\u0435\\u0442 \\u0438\\u0441\\u0442\\u043e\\u0440\\u0438\\u0438 \\u043f\\u0440\\u043e \\u043b\\u044e\\u0434\\u0435\\u0439. \\u041e\\u043d\\u0438 \\u0437\\u0430\\u0441\\u0442\\u0430\\u0432\\u043b\\u044f\\u044e\\u0442 \\u0441\\u043c\\u0435\\u044f\\u0442\\u044c\\u0441\\u044f, \\u043f\\u043b\\u0430\\u043a\\u0430\\u0442\\u044c, \\u043e\\u0431\\u043d\\u0438\\u043c\\u0430\\u0442\\u044c\\u0441\\u044f, \\u0438\\u0441\\u043f\\u044b\\u0442\\u044b\\u0432\\u0430\\u0442\\u044c \\u044d\\u043c\\u043e\\u0446\\u0438\\u0438. \\u0412 \\u044d\\u0442\\u0438\\u0445 \\u0438\\u0441\\u0442\\u043e\\u0440\\u0438\\u044f\\u0445 \\u0432\\u0441\\u0435\\u0433\\u0434\\u0430 \\u0444\\u0438\\u0433\\u0443\\u0440\\u0438\\u0440\\u0443\\u0435\\u0442 \\u043a\\u0440\\u0430\\u0441\\u043d\\u0430\\u044f \\u0431\\u0443\\u0442\\u044b\\u043b\\u043a\\u0430 Coca cola. <br \\/><br \\/>\\u042d\\u0442\\u043e \\u043e\\u0434\\u0438\\u043d \\u0438\\u0437 \\u043f\\u0440\\u0438\\u0451\\u043c\\u043e\\u0432 \\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433\\u0430, \\u043a\\u043e\\u0442\\u043e\\u0440\\u044b\\u0439 \\u043d\\u0430\\u0437\\u044b\\u0432\\u0430\\u0435\\u0442\\u0441\\u044f \\u0441\\u0442\\u043e\\u0440\\u0438\\u0442\\u0435\\u043b\\u043b\\u0438\\u043d\\u0433.","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"header","name":"\\u0417\\u0430\\u0433\\u043e\\u043b\\u043e\\u0432\\u043e\\u043a","component":"ld-header","value":"\\u042d\\u0442\\u0430\\u043f\\u044b \\u201c\\u0443\\u043f\\u0430\\u043a\\u043e\\u0432\\u043a\\u0438\\u201d \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\\u0430 \\u0438 \\u044d\\u0442\\u0430\\u043f\\u044b \\u044d\\u0442\\u043e\\u0433\\u043e  \\u043a\\u0443\\u0440\\u0441\\u0430:","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"paragraph","name":"\\u0422\\u0435\\u043a\\u0441\\u0442","component":"ld-paragraph","value":"<html>\\n <body>\\n   <hr>\\n   <ul>\\n     <li>\\u0430\\u043d\\u0430\\u043b\\u0438\\u0437 \\u0430\\u0443\\u0434\\u0438\\u0442\\u043e\\u0440\\u0438\\u0438; <\\/li>\\n     <li>\\u0446\\u0435\\u043d\\u043d\\u043e\\u0441\\u0442\\u043d\\u043e\\u0435 \\u043f\\u0440\\u0435\\u0434\\u043b\\u043e\\u0436\\u0435\\u043d\\u0438\\u0435;<\\/li>\\n     <li>\\u043f\\u043b\\u0430\\u043d;<\\/li>\\n     <li>\\u0440\\u0435\\u0430\\u043b\\u0438\\u0437\\u0430\\u0446\\u0438\\u044f.<\\/li>\\n     <l","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/sg8jf3lKm2P9IovIfbuRIrlvCSe3Kj4SZZ2888h6.png","desc":null,"fileName":"1. \\u0410\\u043d\\u0430\\u043b\\u0438\\u0437.png","size":36675,"highlights":[{"type":"object","subtype":"highlight","x":28.999999999999996,"y":65.33333333333333,"size":25,"target":1,"index":0,"edit":false},{"type":"object","subtype":"highlight","x":72.75,"y":64.88888888888889,"size":25,"target":8,"index":1,"edit":false}],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/qiH5rO9qfDy7410vBUe8hvpsAy9Dsw017ypBlfL5.png","desc":null,"fileName":"\\u041f\\u0440\\u0430\\u0432\\u0438\\u043b\\u044c\\u043d\\u043e 1.png","size":25404,"highlights":[{"type":"object","subtype":"highlight","x":83.875,"y":86.44444444444444,"size":18,"target":2,"index":0,"edit":false}],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/k8YL5KEznjnTEk9NtMyH1RHsdsFyKbG8EGyFTvWr.png","desc":null,"fileName":"2. \\u0426\\u0435\\u043d \\u043f\\u0440\\u0435\\u0434\\u0436.png","size":37724,"highlights":[{"type":"object","subtype":"highlight","x":27.625,"y":69.55555555555556,"size":27,"target":3,"index":0,"edit":false},{"type":"object","subtype":"highlight","x":72,"y":70.66666666666667,"size":27,"target":9,"index":1,"edit":false}],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/Dy3G37PVmczJpvVNRaFZNOWFnivJ5AEXZg2XhjjP.png","desc":null,"fileName":"\\u041f\\u0440\\u0430\\u0432\\u0438\\u043b\\u044c\\u043d\\u043e 2.png","size":21700,"highlights":[{"type":"object","subtype":"highlight","x":84.625,"y":86.66666666666667,"size":12,"target":4,"index":0,"edit":false}],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/IVPJI9xth6peB8VwkYkZ92odMtz6EGiGXH4AXm56.png","desc":null,"fileName":"3. \\u041c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433\\u043e\\u0432\\u044b\\u0439 \\u043f\\u043b\\u0430\\u043d.png","size":37375,"highlights":[{"type":"object","subtype":"highlight","x":25,"y":72.88888888888889,"size":25,"target":5,"index":0,"edit":false},{"type":"object","subtype":"highlight","x":72.5,"y":71.33333333333334,"size":25,"target":10,"index":1,"edit":false}],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/7XkAUvGir9mTUQKt5yIRtGHgb8OubmVNjGFh8RcP.png","desc":null,"fileName":"\\u041f\\u0440\\u0430\\u0432\\u0438\\u043b\\u044c\\u043d\\u043e 3.png","size":23493,"highlights":[{"type":"object","subtype":"highlight","x":84.625,"y":87.1111111111111,"size":12,"target":6,"index":0,"edit":false}],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/ZqQW58zja0p5fwLD6EnsV2YltZktQnahhCAEBcig.png","desc":null,"fileName":"4. \\u0420\\u0435\\u0430\\u043b\\u0438\\u0437\\u0430\\u0446\\u0438\\u044f.png","size":31727,"highlights":[{"type":"object","subtype":"highlight","x":50.125,"y":46.666666666666664,"size":60,"target":7,"index":0,"edit":false}],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/TfGIkJ4pjMSBiqSEuknZALbPMTGwtImeaBOEq8Qn.png","desc":null,"fileName":"\\u0444\\u043e\\u0442\\u043e.png","size":340417,"highlights":[],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/WPgDBHZPlUe95cCjBkW8tJXCnnZIC1Y1hy7Idstq.png","desc":null,"fileName":"\\u041d\\u0435\\u0432\\u0435\\u0440\\u043d\\u043e.png","size":11463,"highlights":[{"type":"object","subtype":"highlight","x":11.75,"y":86.44444444444444,"size":12,"target":0,"index":0,"edit":false}],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/tIBHG6jnwHrz1zBpU4PwbMl6bFEsUlC4Y4wF4aYq.png","desc":null,"fileName":"\\u041d\\u0435\\u0432\\u0435\\u0440\\u043d\\u043e.png","size":11463,"highlights":[{"type":"object","subtype":"highlight","x":10.25,"y":86.66666666666667,"size":12,"target":2,"index":0,"edit":false}],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"image\\/png","subtype":"image","name":"\\u041a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0430","component":"ld-image","src":"https:\\/\\/interactor.su\\/storage\\/user\\/1\\/longread\\/1\\/v2WYJrfBSe8Z1ZF8fImOX3gNdcdjPRAgbLrC7dJP.png","desc":null,"fileName":"\\u041d\\u0435\\u0432\\u0435\\u0440\\u043d\\u043e.png","size":11463,"highlights":[{"type":"object","subtype":"highlight","x":11,"y":87.33333333333333,"size":12,"target":4,"index":0,"edit":false}],"highlights_bg":"rgba(0,0,0,0.0)","is_editing":true,"is_editing_highlights":false,"loaded":true}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":false,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"header","name":"\\u0417\\u0430\\u0433\\u043e\\u043b\\u043e\\u0432\\u043e\\u043a","component":"ld-header","value":"\\u0414\\u043e\\u043c\\u0430\\u0448\\u043d\\u0435\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043d\\u0438\\u0435","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"paragraph","name":"\\u0422\\u0435\\u043a\\u0441\\u0442","component":"ld-paragraph","value":"<p>\\u0422\\u0435\\u0431\\u0435 \\u043d\\u0443\\u0436\\u043d\\u043e \\u043e\\u043f\\u0438\\u0441\\u0430\\u0442\\u044c  \\u201c...\\u201d \\u043a\\u0430\\u043a \\u0438\\u0434\\u0435\\u044e, \\u043d\\u0430\\u0434 \\u201c\\u0443\\u043f\\u0430\\u043a\\u043e\\u0432\\u043a\\u043e\\u0439\\u201d \\u043a\\u043e\\u0442\\u043e\\u0440\\u043e\\u0439 \\u0442\\u044b \\u0431\\u0443\\u0434\\u0435\\u0448\\u044c \\u0434\\u0430\\u043b\\u044c\\u0448\\u0435 \\u0440\\u0430\\u0431\\u043e\\u0442\\u0430\\u0442\\u044c. <\\/p>\\n<p>\\u041e\\u043f\\u0438\\u0448\\u0438 \\u043a\\u0443\\u0440\\u0441 \\u0442\\u0430\\u043a, \\u043a\\u0430\\u043a \\u0431\\u044b \\u0442\\u044b \\u0445\\u043e\\u0442\\u0435\\u043b \\u043f\\u0440\\u043e\\u0447\\u0435\\u0441\\u0442\\u044c \\u043e\\u043f\\u0438\\u0441\\u0430\\u043d\\u0438\\u0435 \\u043d\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435, \\u043a\\u0443\\u0434\\u0430 \\u0437\\u0430\\u0448\\u0435\\u043b -  \\u0447\\u0442\\u043e\\u0431\\u044b \\u0432\\u044b\\u0431\\u0440\\u0430\\u0442\\u044c \\u0441\\u0435\\u0431\\u0435 \\u043a\\u0443\\u0440\\u0441.<\\/p>\\n<p>\\u041a\\u0430\\u043a\\u0438\\u0435 \\u043a\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0438 \\u0434\\u043b\\u044f \\u0442\\u0435\\u0431\\u044f \\u0432\\u0430\\u0436\\u043d\\u044b? <\\/p>\\n<p>\\u0414\\u043b\\u0438\\u0442\\u0435\\u043b\\u044c\\u043d\\u043e\\u0441\\u0442\\u044c;  \\u0430\\u0432\\u0442\\u043e\\u0440; \\u0442\\u0435\\u043c\\u044b;  \\u0432\\u0440\\u0435\\u043c\\u044f \\u0437\\u0430\\u043d\\u044f\\u0442\\u0438\\u0439 \\u0438 \\u0442.\\u0434.<\\/p>","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"header","name":"\\u0417\\u0430\\u0433\\u043e\\u043b\\u043e\\u0432\\u043e\\u043a","component":"ld-header","value":"\\u0427\\u0442\\u043e \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043d\\u0430 \\u0441\\u043b\\u0435\\u0434\\u0443\\u044e\\u0449\\u0435\\u043c \\u0443\\u0440\\u043e\\u043a\\u0435?","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false},{"type":"container","subtype":"wrapper","name":"\\u041a\\u043e\\u0440\\u043e\\u0431\\u043a\\u0430","component":"ld-container","elements":[{"type":"container","subtype":"element","name":"\\u042d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442","component":"ld-container","elements":[{"type":"element","subtype":"paragraph","name":"\\u0422\\u0435\\u043a\\u0441\\u0442","component":"ld-paragraph","value":"\\u0422\\u044b \\u0443\\u0437\\u043d\\u0430\\u0435\\u0448\\u044c, \\u0441 \\u0447\\u0435\\u0433\\u043e \\u043d\\u0430\\u0447\\u0430\\u0442\\u044c \\u043c\\u0430\\u0440\\u043a\\u0435\\u0442\\u0438\\u043d\\u0433\\u043e\\u0432\\u044b\\u0439 \\u043f\\u043b\\u0430\\u043d \\u043d\\u0430 \\u043f\\u0440\\u0438\\u043c\\u0435\\u0440\\u0435 \\u043c\\u0430\\u043b\\u044c\\u0447\\u0438\\u043a\\u0430 \\u041c\\u0438\\u0448\\u0438, \\u043a\\u043e\\u0442\\u043e\\u0440\\u044b\\u0439 \\u0437\\u0430\\u043d\\u0438\\u043c\\u0430\\u0435\\u0442\\u0441\\u044f \\u0430\\u0440\\u0435\\u043d\\u0434\\u043e\\u0439 \\u043f\\u0440\\u0438\\u0441\\u0442\\u0430\\u0432\\u043e\\u043a Palystation \\u0443 \\u0441\\u0435\\u0431\\u044f \\u0432 \\u0448\\u043a\\u043e\\u043b\\u0435.","is_editing":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}],"is_editing":true,"highlights":[],"current_index":0,"is_big":false,"show_slider_controls":true,"is_editing_highlights":false}]',longread_options:'{"password_options":{"use_pass":false,"pass":null},"style_options":{"file":false,"value":".ld-intro .ld-header { margin-top: 60px }\\n\\na { text-decoration: underline }"}}',user_id:1,folder_id:1,slug:"iskusstvo-manipulyacii-1",created_at:"2020-10-04T06:33:50.000000Z",updated_at:"2020-12-15T09:09:00.000000Z",index_number:null},n=JSON.parse(i.longread_structure),u=JSON.parse(i.longread_options),a=u.style_options.value,o=document.createElement("style");o.type="text/css",o.appendChild(document.createTextNode(a)),document.getElementsByTagName("head")[0].appendChild(o),s("setStructure",n),s("setOptions",u),s("setLongread",i),s("setLoaded",!0),this.commit("setLoadedPage",!0)}else{var r=q(A.get("longread_structure"),[]);s("setStructure",r)}},pushStructure:function(){},addElement:function(e,t){var s=e.commit;s("addElement",t)},removeElement:function(e,t){var s=e.commit;s("removeElement",t)},changeElement:function(e,t){var s=e.commit;s("changeElement",t)}}};i["a"].use(T["a"]);var M=new T["a"].Store({state:{navbar_collapsed:!0,sidenav_collapsed:!0,observer:null,media_loaded:!1,logged:!1,loaded_page:!0,admin:!1,user_slug:"",api_url:"http://interactor.loc/api/",files_url:"http://interactor.loc/storage/",maxsymbols:500,maxsymbols_header:60,longread_update_interval:1500},mutations:{setNavbarCollapsed:function(e,t){e.navbar_collapsed=t},setSidenavCollapsed:function(e,t){e.sidenav_collapsed=t},setObserver:function(e,t){e.observer=t},setMediaLoaded:function(e){e.media_loaded=!0},setLoadedPage:function(e,t){e.loaded_page=t},setUserSlug:function(e,t){e.user_slug=t}},actions:{setNavbarCollapsed:function(e,t){var s=e.commit;s("setNavbarCollapsed",t)},setUserSlug:function(e,t){var s=e.commit;s("setUserSlug",t)},initObserver:function(e){var t=e.commit,s=e.dispatch,i=null;"IntersectionObserver"in window&&(i=new IntersectionObserver((function(e){e.forEach((function(e){"video"==e.target.nodeName.toLowerCase()?e.target.oncanplaythrough=function(){s("entryLoaded",e)}:e.target.onload=function(){s("entryLoaded",e)},e.isIntersecting&&(e.target.src=e.target.dataset.lazySrc,i.unobserve(e.target))}))}),{root:null,threshold:.01,rootMargin:"0px"})),t("setObserver",i)},setMediaLoaded:function(e){var t=e.commit;t("setMediaLoaded")},entryLoaded:function(e){var t=e.commit,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s&&s.target.classList.add("ld-lazy-load_loaded"),t("setMediaLoaded")},lazyForceLoad:function(){var e=document.querySelectorAll(".ld-lazy-load");e.forEach((function(e){e.src=e.dataset.lazySrc}))}},modules:{longread:R}}),B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.local_control,expression:"local_control"}]},[s("div",{staticClass:"modal-container"},[s("div",{ref:"modal",class:e.type},[e._t("default")],2)]),"info"!=e.type&&"locked"!=e.type?s("div",{staticClass:"modal-overlay",on:{click:e.hide}}):e._e()])},D=[],H={mounted:function(){var e=this;if("info"==this.type)setTimeout((function(){return e.local_control=!1}),3500),setTimeout((function(){return document.querySelector("#app").removeChild(e.$el)}),4e3);else if("belowclick"==this.type){var t=window.innerHeight,s=window.innerWidth,i=this.y+this.$refs.modal.getBoundingClientRect().height,n=this.x+this.$refs.modal.getBoundingClientRect().width;this.$refs.modal.style.top=i>t?this.y-(i-t)+"px":this.y+"px",this.$refs.modal.style.left=n>s-40?this.x-40-(n-s)+"px":this.x+"px"}},methods:{open:function(e,t){var s=i["a"].extend(Z),n=new s({propsData:{type:e}});n.$slots.default=[t],n.$mount(),document.querySelector("#app").appendChild(n.$el)},hide:function(){var e=this;this.fromjs?(this.local_control=!1,setTimeout((function(){return document.querySelector("#app").removeChild(e.$el)}),1e3)):this.$emit("hide")}},data:function(){return{local_control:!0}},computed:{},props:{type:{default:"info"},fromjs:{default:!0},x:{},y:{}}},Y=H,J=(s("a39e"),Object(d["a"])(Y,B,D,!1,null,"70c93eef",null)),Z=J.exports,G=(s("7db0"),s("2ef0")),V=function(e){e.prototype.$_={},e.prototype.$_.cloneDeep=G["cloneDeep"],e.prototype.$_.find=G["find"],e.prototype.$_.has=G["has"]},X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ld-container-wrapper mb-3",class:e.wrapper_classes},[s("div",{staticClass:"ld-container-main",class:e.container_class},[s("div",{ref:"container",staticClass:"ld-container"},[e.show_navigation?s("div",{staticClass:"ld-interactive-navigation-wrap"},[s("ol",{staticClass:"ld-interactive-navigation"},e._l(e.m_element.elements,(function(t,i){return s("li",{key:t.subtype+i,class:{active:i==e.current_index},on:{click:function(t){return e.change_current_index(i)}}},[s("span",[e._v(e._s(i+1))]),s("i",{directives:[{name:"show",rawName:"v-show",value:e.m_element.is_editing,expression:"m_element.is_editing"}],staticClass:"lar la-trash-alt ld-interactive-navigation-delete",on:{click:function(t){return t.stopPropagation(),e.remove_slide(i)}}})])})),0),s("transition",{attrs:{name:"left-to-right"}},[e.current_index>0?s("span",{staticClass:"ld-interactive-previous",on:{click:function(t){e.current_index--}}},[s("i",{staticClass:"las la-arrow-left"})]):e._e()]),s("transition",{attrs:{name:"left-to-right"}},[e.current_index<e.m_element.elements.length-1?s("span",{staticClass:"ld-interactive-next",on:{click:function(t){e.current_index++}}},[s("i",{staticClass:"las la-arrow-right"})]):e._e()])],1):e._e(),s("div",{staticStyle:{position:"relative"}},[s("transition-group",{attrs:{tag:"div",name:"left-to-right"}},e._l(e.m_element.elements,(function(t,i){return s(t.component,{directives:[{name:"show",rawName:"v-show",value:e.show_component(t,i,e.current_index),expression:"show_component(sub_element, sub_index, current_index)"}],key:t.subtype+i,tag:"component",attrs:{m_map:e.m_modifyMap(i)}})})),1)],1)])]),e.m_longread.is_author&&e.is_root?s("div",{staticClass:"ld-container-author-actions"},[s("ld-add-element",{staticClass:"active no-padding button-block mb-3",attrs:{index:e.m_element.elements.length,destination:e.m_element.elements,container:e.m_element},on:{added_element:e.added_element}}),e.m_element.is_editing?s("div",{key:"view",staticClass:"button mb-3 button-block",on:{click:function(t){return e.m_changeIsEditing({toggle:!0})}}},[e._v("Включу просмотр")]):s("div",{key:"edit",staticClass:"button mb-3 button-block",on:{click:function(t){return e.m_changeIsEditing({toggle:!0})}}},[e._v("Включу редактирование")]),s("div",{staticClass:"button mb-3 button-block",on:{click:e.open_settings}},[e._v(" Настрою элемент")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.is_root,expression:"is_root"}],staticClass:"button button-red button-block",on:{click:function(t){return e.m_remove(null,null)}}},[e._v(" Удалю элемент ")]),e.show_settings?s("modal",{attrs:{fromjs:!1,type:"belowclick",x:e.x,y:e.y},on:{hide:function(t){e.show_settings=!1}}},[s("div",{staticClass:"mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.m_element.is_big,expression:"m_element.is_big"}],staticClass:"mr-2",attrs:{type:"checkbox",id:"is_big"+e.m_index},domProps:{checked:Array.isArray(e.m_element.is_big)?e._i(e.m_element.is_big,null)>-1:e.m_element.is_big},on:{change:function(t){var s=e.m_element.is_big,i=t.target,n=!!i.checked;if(Array.isArray(s)){var u=null,a=e._i(s,u);i.checked?a<0&&e.$set(e.m_element,"is_big",s.concat([u])):a>-1&&e.$set(e.m_element,"is_big",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.m_element,"is_big",n)}}}),s("label",{attrs:{for:"is_big"+e.m_index}},[e._v("Сделаю большим")])]),e.m_element.elements.length>1?s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.m_element.show_slider_controls,expression:"m_element.show_slider_controls"}],staticClass:"mr-2",attrs:{type:"checkbox",id:"show_slider_controls"+e.m_index},domProps:{checked:Array.isArray(e.m_element.show_slider_controls)?e._i(e.m_element.show_slider_controls,null)>-1:e.m_element.show_slider_controls},on:{change:function(t){var s=e.m_element.show_slider_controls,i=t.target,n=!!i.checked;if(Array.isArray(s)){var u=null,a=e._i(s,u);i.checked?a<0&&e.$set(e.m_element,"show_slider_controls",s.concat([u])):a>-1&&e.$set(e.m_element,"show_slider_controls",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.m_element,"show_slider_controls",n)}}}),s("label",{attrs:{for:"show_slider_controls"+e.m_index}},[e._v("Покажу управление слайдером")])]):e._e()]):e._e()],1):e._e()])},U=[],W=(s("fb6a"),{data:function(){return{m_ld_element_edit_transition:"top-to-bottom"}},created:function(){var e=!1;this.m_longread.is_author&&(e=!0),this.m_changeElement({is_editing:e,is_editing_highlights:!1})},methods:{m_changeElement:function(e){var t={source:this.m_source,index:this.m_index,changes:e};this.$store.dispatch("longread/changeElement",t)},m_modifyMap:function(e){var t=this.$_.cloneDeep(this.m_map);return t.push(e),t},m_remove:function(e,t){var s={source:null!==e&&void 0!==e?e:this.m_source,index:null!==t&&void 0!==t?t:this.m_index};this.$store.dispatch("longread/removeElement",s),this.$emit("removed_element",s)},m_changeIsEditing:function(e){var t=e.value;e.toggle&&(t=!this.m_element.is_editing),this.m_changeElement({is_editing:t}),this.m_element.elements&&this.m_recurseEditingElements(this.m_element.elements,t)},m_recurseEditingElements:function(e,t){for(var s=0;s<e.length;s++){var i={source:e,index:s,changes:{is_editing:t}};this.$store.dispatch("longread/changeElement",i),e[s].elements&&this.m_recurseEditingElements(e[s].elements,t)}}},computed:{m_value:{get:function(){return this.m_element.value},set:function(e){this.m_changeElement({value:e})}},m_desc:{get:function(){return this.m_element.desc},set:function(e){this.m_changeElement({desc:e})}},m_duration:function(){var e=1/(this.m_map.length/this.m_map[0]);return e},m_longread:function(){return this.$store.state.longread},m_longread_is_editing:function(){return this.$store.state.longread.is_editing},m_element:function(){return this.$store.getters["longread/element"](this.m_map)},m_index:function(){return this.m_map[this.m_map.length-1]},m_source:function(){if(1==this.m_map.length)return this.m_longread.structure;var e=this.m_map.slice(0,this.m_map.length-1);return this.$store.getters["longread/element"](e).elements}},watch:{m_longread_is_editing:function(e){this.m_changeElement({is_editing:e}),e||this.m_changeElement({is_editing_highlights:!1})}},props:{m_map:{required:!0}}}),K={mounted:function(){this.current_index=0},data:function(){return{adding_element:!1,show_settings:!1}},methods:{open_settings:function(e){this.x=e.clientX,this.y=e.clientY,this.show_settings=!0},toggle_add_element:function(){this.adding_element=!this.adding_element},show_component:function(e,t,s){var i=!0;return this.is_element_container||(i=t===s),i},change_current_index:function(e){this.current_index=e},added_element:function(){this.current_index=this.m_element.elements.length-1},remove_slide:function(e){console.log(this.m_source,"remove"),this.m_remove(this.m_element.elements,e),this.current_index=e>0?e-1:0}},computed:{current_index:{get:function(){return this.m_element.current_index},set:function(e){this.m_changeElement({current_index:e})}},container_class:function(){return{"ld-container-main_big":this.m_element.is_big,"ld-container-main_bordered":this.not_solo&&!this.is_root}},is_root:function(){return 1===this.m_map.length},is_element_container:function(){return"container"==this.m_element.type&&"element"==this.m_element.subtype},not_solo:function(){return this.m_source.length>1},show_author_actions:function(){return this.m_longread.is_author&&(this.not_solo||this.is_root)},show_add_element:function(){return this.is_root&&this.m_longread.is_author&&this.m_element.is_editing&&this.adding_element},show_navigation:function(){return void 0==this.m_element.show_slider_controls&&!this.is_element_container&&this.m_element.elements.length>1||this.m_element.show_slider_controls&&this.m_element.elements.length>1&&!this.is_element_container},wrapper_classes:function(){return{"ld-container-wrapper_editing":this.m_element.is_editing,"ld-container-wrapper_author":this.$store.state.longread.is_author}}},mixins:[W],name:"ld-container"},Q=K,ee=(s("1a26"),Object(d["a"])(Q,X,U,!1,null,null,null)),te=ee.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ld-element-wrapper",class:e.element_wrapper_class},[s("transition",{attrs:{name:e.m_ld_element_edit_transition}},[e.m_element.is_editing?s("div",{staticClass:"ld-element-edit"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.m_value,expression:"m_value"}],staticClass:"ld-textarea",attrs:{maxlength:e.$store.state.maxsymbols},domProps:{value:e.m_value},on:{input:function(t){t.target.composing||(e.m_value=t.target.value)}}}),s("span",{staticClass:"ld-textarea-details"},[e._v(" "+e._s(e.m_value.length+" / "+e.$store.state.maxsymbols)+" ")])]):e._e()]),s("div",{staticClass:"ld-element-view",domProps:{innerHTML:e._s(e.m_value)}})],1)},ie=[],ne={mixins:[W],data:function(){return{}},computed:{element_wrapper_class:function(){return{"ld-element-wrapper-min-height":this.m_element.is_editing}}},name:"ld-paragraph"},ue=ne,ae=Object(d["a"])(ue,se,ie,!1,null,null,null),oe=ae.exports,re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ld-element-wrapper",class:e.element_wrapper_class},[s("transition",{attrs:{name:e.m_ld_element_edit_transition}},[e.m_element.is_editing?s("div",{staticClass:"ld-element-edit"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.m_value,expression:"m_value"}],staticClass:"ld-textarea",attrs:{type:"text",maxlength:e.$store.state.maxsymbols_header},domProps:{value:e.m_value},on:{input:function(t){t.target.composing||(e.m_value=t.target.value)}}}),s("span",{staticClass:"ld-textarea-details"},[e._v(" "+e._s(e.m_value.length+" / "+e.$store.state.maxsymbols_header)+" ")])]):e._e()]),s("div",{staticClass:"ld-element-view"},[s("h1",{staticClass:"ld-header",domProps:{innerHTML:e._s(e.m_value)}})])],1)},le=[],de={mixins:[W],data:function(){return{}},computed:{element_wrapper_class:function(){return{"ld-element-wrapper-min-height-100":this.m_element.is_editing}}},name:"ld-header"},ce=de,he=(s("578d"),Object(d["a"])(ce,re,le,!1,null,null,null)),me=he.exports,ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ld-intro"},[s("transition",{attrs:{name:e.m_ld_element_edit_transition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.m_element.is_editing,expression:"m_element.is_editing"}],staticClass:"ld-element-edit"},[s("dropzone",{attrs:{type:"media",file:e.m_file,url:e.$store.state.api_url+"uploadfile"},on:{change_element:e.m_changeElement,change_file_type:e.change_file_type}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.header,expression:"header"}],staticClass:"intro-header",attrs:{type:"text",maxlength:60,placeholder:"Заголовок"},domProps:{value:e.header},on:{input:function(t){t.target.composing||(e.header=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.desc,expression:"desc"}],staticClass:"intro-desc",attrs:{type:"text",placeholder:"Описание (необязательно)",maxlength:60},domProps:{value:e.desc},on:{input:function(t){t.target.composing||(e.desc=t.target.value)}}})],1)]),s("div",{staticClass:"ld-intro-text"},[s("h1",{staticClass:"ld-header"},[e._v(e._s(e.header))]),s("p",[e._v(e._s(e.desc))])]),e.has_image?[e.show_loader?s("div",{staticClass:"loader-wrapper"},[s("div",{staticClass:"loader"})]):e._e(),e.is_image?s("img",{ref:"image",staticClass:"ld-intro-element",attrs:{src:e.m_file_src},on:{load:function(t){e.show_loader=!1}}}):e._e(),e.is_video?s("video",{staticClass:"ld-intro-element",attrs:{loop:"",autoplay:"",muted:"",src:e.m_file.src},domProps:{muted:!0},on:{canplaythrough:function(t){e.show_loader=!1}}}):e._e()]:e._e()],2)},_e=[],pe=(s("c975"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dropzone-parent"},[s("div",{ref:"element",staticClass:"dropzone"},[s("div",{staticClass:"dz-message"},[e._v(" Нажмите или перетащите для загрузки ")])]),e._m(0),s("video",{attrs:{id:"video"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{id:"popup"}},[e._v(" "+e._s(e.error_message)+" "),s("span",{on:{click:function(t){e.error=!1}}},[e._v(" close ")])])])}),fe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dz-preview dz-file-preview",staticStyle:{"margin-left":"-3000px",position:"absolute"},attrs:{id:"tpl"}},[s("div",{staticClass:"dz-details"},[s("div",{staticClass:"dz-filename"},[s("span",{attrs:{"data-dz-name":""}})]),s("div",{staticClass:"dz-size",attrs:{"data-dz-size":""}},[e._v(" size")]),s("img",{attrs:{"data-dz-thumbnail":""}})]),s("div",{staticClass:"dz-progress"},[s("span",{staticClass:"dz-upload",attrs:{"data-dz-uploadprogress":""}})]),s("div",{staticClass:"dz-success-mark"},[s("span",[e._v("success")])]),s("div",{staticClass:"dz-error-mark"},[s("span",[e._v("error")])]),s("div",{staticClass:"dz-error-message"},[s("span",{attrs:{"data-dz-errormessage":""}})])])}],ve=(s("d3b7"),s("ac1f"),s("3ca3"),s("5319"),s("ddb0"),s("2b3d"),s("79e3")),be=s.n(ve);be.a.autoDiscover=!1;var ye={props:{file:{required:!0},type:{required:!0},url:{required:!0}},data:function(){return{dropzone:"",error:!1,error_message:""}},computed:{is_image:function(){return"image"==this.type},is_video:function(){return"video"==this.type},is_css:function(){return"css"==this.type},acceptedFiles:function(){var e;switch(this.type){case"image":e="image/*";break;case"video":e="video/*";break;case"css":e=".css";break;case"media":e="image/*, video/*";break}return e}},methods:{get_duration:function(){var e=document.getElementById("video");console.log(e.duration)}},mounted:function(){var e=this,t=localStorage.getItem("token"),s=!this.$store.state.longread.is_demo;if(this.dropzone=new be.a(this.$refs.element,{url:this.url,maxFilesize:12,addRemoveLinks:!0,createImageThumbnails:!1,dictRemoveFile:"Удалю файл",autoProcessQueue:s,hiddenInputContainer:".dropzone",previewTemplate:document.querySelector("#tpl").innerHTML,acceptedFiles:this.acceptedFiles,headers:{Authorization:"Bearer "+t,"Cache-Control":null,"X-Requested-With":null}}),this.dropzone.on("addedfile",(function(t){e.dropzone.files.length>1&&e.dropzone.removeFile(e.dropzone.files[0]);var s=null;s=t.mock?t.src:URL.createObjectURL(t);var i={src:s,fileName:t.name,size:t.size,type:t.type};e.$emit("change_element",i),e.$emit("change_src",i.src),e.$emit("change_file_type",t.type)})),this.dropzone.on("sending",(function(t,s,i){i.append("id",e.$store.state.longread.longread.id)})),this.dropzone.on("success",(function(t,s){var i={src:e.$store.state.files_url+s.path,fileName:t.name,size:t.size,loaded:!0};console.log("changes",i),e.$emit("change_element",i),e.$emit("change_src",i.src)})),this.dropzone.on("removedfile",(function(t){console.log("REMOVE",t);var s=localStorage.getItem("token"),i=e.file.src.replace(e.$store.state.files_url,"");if(e.$emit("change_element",{src:null,fileName:null,size:null}),!e.$store.state.longread.is_demo){var n=e;p()({method:"POST",url:n.$store.state.api_url+"deletefile",headers:{Authorization:"Bearer "+s},data:{file:i}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response);var t="";for(var s in e.response.data)t=t+" "+e.response.data[s];n.$modal.methods.open("error",t)})),console.log("DELETE ON BACKEND")}})),!this.is_css&&this.file.src){var i={name:this.file.fileName,size:this.file.size,src:this.file.src,type:this.file.type,mock:!0};this.dropzone.files.push(i),this.dropzone.emit("addedfile",i),this.dropzone.emit("complete",i)}}},we=ye,xe=(s("23d9"),s("fccf"),Object(d["a"])(we,pe,fe,!1,null,"def02aca",null)),$e=xe.exports,ke={mounted:function(){console.log("production")},computed:{m_file:function(){return{src:this.m_element.src,fileName:this.m_element.fileName,size:this.m_element.size,type:this.m_element.type}},m_file_src:function(){return this.m_element.src},m_wrapper_class:function(){return{"ld-media-wrapper-fixed-height":!this.m_loaded}},m_highlights_bg:{get:function(){return void 0==this.m_element.highlights_bg?"rgba(0,0,0,0.65)":this.m_element.highlights_bg},set:function(e){this.m_changeElement({highlights_bg:e})}}},methods:{m_delete_highlights:function(){this.m_changeElement({highlights:[]})}},watch:{m_file_src:function(e){e||(this.m_changeElement({loaded:!1}),this.$refs.lazy_element.src=null,this.$refs.lazy_element.classList.remove("ld-lazy-load_loaded"))}},components:{dropzone:$e}},Ce={mounted:function(){},mixins:[W,ke],data:function(){return{show_loader:!0,is_video:!1,is_image:!1}},computed:{element_wrapper_class:function(){return{"ld-element-wrapper-min-height":this.m_element.is_editing}},has_image:function(){return this.m_file.src},header:{get:function(){return this.m_element.header},set:function(e){this.m_changeElement({header:e})}},desc:{get:function(){return this.m_element.desc},set:function(e){this.m_changeElement({desc:e})}}},name:"ld-intro",methods:{change_file_type:function(e){console.log(e,"emit"),e.indexOf("image")>-1?(this.is_image=!0,this.is_video=!1):e.indexOf("video")>-1&&(this.is_image=!1,this.is_video=!0)}},watch:{}},ze=Ce,Se=(s("16b5"),Object(d["a"])(ze,ge,_e,!1,null,"1e5f87b5",null)),Ee=Se.exports,je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.m_desc?s("p",{staticClass:"ld-desc",domProps:{innerHTML:e._s(e.m_desc)}}):e._e(),s("div",{ref:"media_wrapper",staticClass:"ld-media-wrapper",class:e.m_wrapper_class},[s("transition",{attrs:{name:e.m_ld_element_edit_transition}},[e.m_element.is_editing&&!e.m_element.is_editing_highlights?s("div",{staticClass:"ld-element-edit"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.m_desc,expression:"m_desc"}],staticClass:"media-desc-input",attrs:{rows:"2",placeholder:"Описание (необязательно)"},domProps:{value:e.m_desc},on:{input:function(t){t.target.composing||(e.m_desc=t.target.value)}}}),s("dropzone",{attrs:{type:"image",file:e.m_file,url:e.$store.state.api_url+"uploadfile"},on:{change_element:e.m_changeElement,change_src:e.m_changeSrc}})],1):e._e()]),s("img",{ref:"lazy_element",staticClass:"ld-media-element ld-lazy-load",attrs:{src:"","data-lazy-src":e.m_file.src},on:{load:e.m_hasLoaded}}),s("ld-highlights",{attrs:{element:e.m_element,map:e.m_map,is_media_loaded:e.m_loaded},on:{delete_highlights:e.m_delete_highlights}}),e._m(0)],1),e.m_element.is_editing&&e.m_loaded?s("div",{staticClass:"pt-4"},[e.m_element.is_editing_highlights?s("span",{staticClass:"button button-block",on:{click:function(t){return e.m_changeElement({is_editing_highlights:!1})}}},[e._v("Выключу указатели")]):s("span",{staticClass:"button button-block",on:{click:function(t){return e.m_changeElement({is_editing_highlights:!0})}}},[e._v("Включу указатели")])]):e._e(),s("transition",{attrs:{name:"top-to-bottom"}},[e.m_element.is_editing_highlights?s("div",{staticClass:"pt-3"},[s("div",[e._v(" Цвет фона: "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.m_highlights_bg,expression:"m_highlights_bg"}],attrs:{type:"text"},domProps:{value:e.m_highlights_bg},on:{input:function(t){t.target.composing||(e.m_highlights_bg=t.target.value)}}})])]):e._e()])],1)},Oe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loader-wrapper"},[s("div",{staticClass:"loader"})])}],Ne={mounted:function(){this.$store.state.observer&&this.$store.state.observer.observe(this.$refs.lazy_element)},data:function(){return{m_loaded:!1}},methods:{m_hasLoaded:function(){this.m_loaded=!0},m_changeSrc:function(e){this.$refs.lazy_element.src=e}}},Pe={mixins:[W,ke,Ne],name:"ld-image"},Le=Pe,Ie=Object(d["a"])(Le,je,Oe,!1,null,null,null),Te=Ie.exports,Fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.m_desc?s("p",{staticClass:"ld-desc",domProps:{innerHTML:e._s(e.m_desc)}}):e._e(),s("div",{ref:"media_wrapper",staticClass:"ld-media-wrapper",class:e.m_wrapper_class},[s("transition",{attrs:{name:e.m_ld_element_edit_transition}},[e.m_element.is_editing&&!e.m_element.is_editing_highlights?s("div",{staticClass:"ld-element-edit"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.m_desc,expression:"m_desc"}],staticClass:"media-desc-input",attrs:{rows:"2",placeholder:"Описание (необязательно)"},domProps:{value:e.m_desc},on:{input:function(t){t.target.composing||(e.m_desc=t.target.value)}}}),s("dropzone",{attrs:{file:e.m_file,type:"video",url:e.$store.state.api_url+"uploadfile"},on:{change_element:e.m_changeElement,change_src:e.m_changeSrc}})],1):e._e()]),s("div",{ref:"video_container"},[s("video",{ref:"lazy_element",staticClass:"ld-media-element ld-lazy-load",attrs:{loop:"",controls:"",autoplay:"",muted:"",src:"","data-lazy-src":e.m_file.src},domProps:{muted:!0},on:{canplaythrough:e.m_hasLoaded}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.show_controls,expression:"show_controls"}],staticClass:"controls"},[s("i",{directives:[{name:"show",rawName:"v-show",value:!e.play_toggle,expression:"!play_toggle"}],staticClass:"las la-play",on:{click:e.play_pause}}),s("i",{directives:[{name:"show",rawName:"v-show",value:e.play_toggle,expression:"play_toggle"}],staticClass:"las la-pause",on:{click:e.play_pause}}),s("progress",{ref:"progress",staticStyle:{"margin-left":"5%"},attrs:{value:"0",min:"0"}},[s("span",{ref:"progress_bar"})]),s("i",{directives:[{name:"show",rawName:"v-show",value:e.mute_toggle,expression:"mute_toggle"}],staticClass:"las la-volume-mute",staticStyle:{"margin-left":"5%"},on:{click:e.mute_unmute}}),s("i",{directives:[{name:"show",rawName:"v-show",value:!e.mute_toggle,expression:"!mute_toggle"}],staticClass:"las la-volume-up",staticStyle:{"margin-left":"5%"},on:{click:e.mute_unmute}}),s("i",{directives:[{name:"show",rawName:"v-show",value:!e.fullscreen_toggle,expression:"!fullscreen_toggle"}],staticClass:"las la-expand",staticStyle:{"margin-left":"5%"},on:{click:e.fullscreen}}),s("i",{directives:[{name:"show",rawName:"v-show",value:e.fullscreen_toggle,expression:"fullscreen_toggle"}],staticClass:"las la-expand-arrows-alt",staticStyle:{"margin-left":"5%"},on:{click:e.fullscreen}})])]),s("ld-highlights",{attrs:{element:e.m_element,map:e.m_map,is_media_loaded:e.m_loaded}})],1),e.m_element.is_editing&&e.m_loaded?s("div",{staticClass:"pt-4"},[e.m_element.is_editing_highlights?s("span",{staticClass:"button button-block",on:{click:function(t){return e.m_changeElement({is_editing_highlights:!1})}}},[e._v("Выключу указатели")]):s("span",{staticClass:"button button-block",on:{click:function(t){return e.m_changeElement({is_editing_highlights:!0})}}},[e._v("Включу указатели")])]):e._e(),s("transition",{attrs:{name:"top-to-bottom"}},[e.m_element.is_editing_highlights?s("div",{staticClass:"pt-3"},[s("div",[e._v(" Цвет фона: "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.m_highlights_bg,expression:"m_highlights_bg"}],attrs:{type:"text"},domProps:{value:e.m_highlights_bg},on:{input:function(t){t.target.composing||(e.m_highlights_bg=t.target.value)}}})])]):e._e()])],1)},Ae=[],qe={mixins:[W,ke,Ne],name:"ld-video",data:function(){return{show_controls:!1,play_toggle:!0,mute_toggle:!0,fullscreen_toggle:!1}},methods:{play_pause:function(){this.$refs.lazy_element.paused||this.$refs.lazy_element.ended?this.$refs.lazy_element.play():this.$refs.lazy_element.pause(),this.play_toggle=!this.play_toggle},mute_unmute:function(){this.$refs.lazy_element.muted=!this.$refs.lazy_element.muted,this.mute_toggle=!this.mute_toggle},isFullScreen:function(){return!!(document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},setFullscreenData:function(e){this.$refs.video_container.setAttribute("data-fullscreen",!!e)},fullscreen:function(){this.isFullScreen()?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.setFullscreenData(!1)):(this.$refs.video_container.requestFullscreen?this.$refs.video_container.requestFullscreen():this.$refs.video_container.mozRequestFullScreen?this.$refs.video_container.mozRequestFullScreen():this.$refs.video_container.webkitRequestFullScreen?this.$refs.video_container.webkitRequestFullScreen():this.$refs.video_container.msRequestFullscreen&&this.$refs.video_container.msRequestFullscreen(),this.setFullscreenData(!0)),this.fullscreen_toggle=!this.fullscreen_toggle},countOffset:function(e){var t=0;do{t+=e.offsetLeft||0,e=e.offsetParent}while(e);return t}},mounted:function(){this.$refs.lazy_element.controls=!1,this.show_controls=!0;var e=this;this.$refs.lazy_element.addEventListener("timeupdate",(function(){e.$refs.progress.setAttribute("max",e.$refs.lazy_element.duration),e.$refs.progress.value=e.$refs.lazy_element.currentTime,e.$refs.progress_bar.style.width=Math.floor(e.$refs.lazy_element.currentTime/e.$refs.lazy_element.duration*100)+"%"})),this.$refs.progress.addEventListener("click",(function(t){var s=e.countOffset(e.$refs.progress),i=(t.pageX-s)/this.offsetWidth;e.$refs.lazy_element.currentTime=i*e.$refs.lazy_element.duration}))}},Re=qe,Me=(s("2cbc"),Object(d["a"])(Re,Fe,Ae,!1,null,"6e298390",null)),Be=Me.exports,De=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.m_desc?s("p",{staticClass:"ld-desc",domProps:{innerHTML:e._s(e.m_desc)}}):e._e(),s("div",{staticClass:"ld-embed-responsive ld-embed-responsive-16by9"},[s("transition",{attrs:{name:e.m_ld_element_edit_transition}},[e.m_element.is_editing?s("div",{staticClass:"ld-element-edit"},[s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.m_element.url,expression:"m_element.url"}],attrs:{rows:"2"},domProps:{value:e.m_element.url},on:{input:function(t){t.target.composing||e.$set(e.m_element,"url",t.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.m_desc,expression:"m_desc"}],attrs:{rows:"2",placeholder:"Описание (необязательно)"},domProps:{value:e.m_desc},on:{input:function(t){t.target.composing||(e.m_desc=t.target.value)}}})])]):e._e()]),s("iframe",{ref:"lazy_element",staticClass:"ld-embed-responsive-item ld-media-element ld-lazy-load",attrs:{frameborder:"no",allowtransparency:"true",allowfullscreen:"true",src:"","data-lazy-src":e.src},on:{load:e.m_hasLoaded}}),s("div",{staticClass:"ld-embed-responsive-spacer"})],1)])},He=[],Ye=(s("466d"),{computed:{is_code:function(){return"code"==this.m_element.subtype},src:function(){var e;if("code"==this.m_element.subtype)null!=this.m_element.url&&(e=this.m_element.url+"&editable=true");else if("youtube"==this.m_element.subtype){if(null!=this.m_element.url){var t=this.m_element.url,s=/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/,i=t.match(s)[1];e="https://www.youtube.com/embed/"+i}}else"figma"==this.m_element.subtype?null!=this.m_element.url&&(e="https://www.figma.com/embed?embed_host=share&url="+this.m_element.url):"miro"==this.m_element.subtype?null!=this.m_element.url&&(e=this.m_element.url.replace("board","embed")):"sketchfab"==this.m_element.subtype&&null!=this.m_element.url&&(e=this.m_element.url);return e}},mixins:[W,Ne],name:"ld-iframe"}),Je=Ye,Ze=(s("22e2"),Object(d["a"])(Je,De,He,!1,null,null,null)),Ge=Ze.exports,Ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"wrap",staticClass:"ld-highlights-wrap",class:e.wrap_classes},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show_highlights,expression:"show_highlights"}],ref:"highlights_container",staticClass:"ld-highlights-container"},[s("p",{staticClass:"ld-highlights-container-text"},[e._v("Кликните по любому месту, чтобы создать указатель")])]),e.has_highlights?[s("transition",{attrs:{name:"top-to-bottom",mode:"out-in"}},[e.show_highlights?s("span",{key:"hide",staticClass:"button button-light",on:{click:function(t){e.show_highlights=!1}}},[s("i",{staticClass:"button-ico las la-eye-slash"}),e._v(" Скрыть указатели ")]):s("span",{key:"show",staticClass:"button button-light",on:{click:function(t){e.show_highlights=!0}}},[s("i",{staticClass:"button-ico las la-eye"}),e._v(" Показать указатели ")])])]:e._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:e.show_tooltip,expression:"show_tooltip"}],ref:"tooltip",staticClass:"tooltip"},[s("div",{staticClass:"slidecontainer"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.size,expression:"size"}],attrs:{type:"range",min:"4",max:"60"},domProps:{value:e.size},on:{input:e.set_size,__r:function(t){e.size=t.target.value}}}),s("span",[e._v(" "+e._s(e.size)+" ")])]),s("div",{staticStyle:{display:"flex"}},[e._v(" Цель: "),s("ol",{staticClass:"ld-interactive-navigation-tooltip"},e._l(e.targets,(function(t,i){return s("li",{key:t.subtype+i,class:{active:i==e.current_target},on:{click:function(t){return e.change_target(i)}}},[s("span",[e._v(e._s(i+1))])])})),0)]),s("p",{on:{click:e.exit_edit_mode}},[e._v(" закрыть ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.show_tooltip,expression:"show_tooltip"}],staticClass:"delete"},[s("p",{on:{click:e.delete_highlights}},[e._v(" удалить все ")])])],2)},Xe=[],Ue=(s("d81d"),s("4378")),We=(s("42fc"),[{type:"element",subtype:"highlights",name:"Указатели",component:"ld-highlights",is_editing:!1},{type:"object",subtype:"highlight",x:null,y:null,size:null,target:null,index:null}]),Ke={data:function(){return{draw:null,bg:null,mask:null,show_tooltip:!1,targets:null,defaultSize:12,current_target:null,size:null,active_index:null,left:0,top:0,circles:null}},methods:{initSVG:function(){var e=this;this.draw=Object(Ue["d"])().addTo(this.$refs.highlights_container).size("100%","100%");var t=this.draw.rect("100%","100%").attr({fill:"#fff"});this.mask=this.draw.mask().add(t),this.bg=this.draw.rect("100%","100%").attr({fill:"green"}).maskWith(this.mask),this.element.highlights.forEach((function(e){e.edit=!1})),this.bg.click((function(t){e.clicked(t)})),this.redraw(),this.targets=this.longread_element.elements},change_target:function(e){console.log("current target",e),this.current_target=e;var t={source:this.element.highlights,index:this.active_index,changes:{target:e}};this.$store.dispatch("longread/changeElement",t)},delete_highlights:function(){this.element.highlights=[],this.$emit("delete_highlights"),this.circles.remove(),this.exit_edit_mode(),this.redraw()},clicked:function(e){if(this.element.is_editing_highlights){console.log(this.width,this.height);var t=e.offsetX/this.width*100,s=e.offsetY/this.height*100;if(this.checkPos(t,s)){var i=this.$_.cloneDeep(this.$_.find(We,{subtype:"highlight"}));i.x=t,i.y=s,i.size=this.defaultSize,i.index=this.element.highlights.length;var n={destination:this.element.highlights,element:i,index:this.element.highlights.length};this.$store.dispatch("longread/addElement",n),this.redraw()}}},redrawHighlight:function(e,t,s){if("drag"!=s||t.edit){var i=e.offsetX/this.width*100,n=e.offsetY/this.height*100;t.x=i,t.y=n;var u={source:this.element.highlights,index:t.index,changes:{x:i,y:n}};this.$store.dispatch("longread/changeElement",u),this.redraw()}},set_size:function(){var e={source:this.element.highlights,index:this.active_index,changes:{size:parseInt(this.size)}};this.$store.dispatch("longread/changeElement",e),this.redraw()},exit_edit_mode:function(){var e=this;console.log("exit highlight editing mode"),this.element.highlights.forEach((function(e){e.edit=!1})),this.active_index=null,this.show_tooltip=!1,this.redraw(),this.bg.click(null),this.bg.click((function(t){e.clicked(t)}))},redraw:function(){var e=this;this.circles&&this.circles.remove(),this.circles=this.draw.group();var t=this.draw.rect("100%","100%").attr({fill:"#fff"});this.draw.mask().remove(),this.mask=this.draw.mask().add(t),console.log("redraw",this.element.highlights);for(var s=function(t){console.log("highlight draw"),console.log(e.element.highlights[t]);var s={fill:"#000",cx:e.element.highlights[t].x+"%",cy:e.element.highlights[t].y+"%",size:e.element.highlights[t].size+"%"},i=e.draw.circle(s.size).attr(s);i.attr({"fill-opacity":0}),i.css("cursor","pointer");var n=e.draw.circle(s.size).attr(s);if(e.mask.add(n),e.element.highlights[t].edit&&(e.size=e.element.highlights[t].size),i.on("mouseover",(function(){e.element.is_editing_highlights&&(i._runner=i.animate({duration:500,when:"now"}).css({stroke:"#AA2A95","stroke-width":7}))})),i.on("mouseout",(function(){e.element.is_editing_highlights&&(i._runner.unschedule(),i.animate({duration:500,when:"now"}).css({stroke:"#3f3f3f","stroke-width":0}))})),i.on("click",(function(){e.element.is_editing_highlights&&(console.log("enter highlight editing mode"),e.current_target=null,e.element.highlights.forEach((function(e){e.edit=!1})),e.current_target=e.element.highlights[t].target,e.element.highlights[t].edit=!0,e.active_index=t,e.show_tooltip=!0,e.redraw(),e.bg.click(null),e.bg.click((function(s){e.redrawHighlight(s,e.element.highlights[t],"click")})))})),null!=e.element.highlights[t].target&&(console.log("some highlight"),!e.element.is_editing_highlights)){var u=document.createElement("span");u.classList.add("ld-highlight-text"),u.style.left=e.element.highlights[t].x+"%",u.style.top=e.element.highlights[t].y+"%",u.style.marginTop=e.element.highlights[t].size/2.5+"%",u.innerHTML="Нажмите на меня!",e.$refs.highlights_container.appendChild(u),i.attr({stroke:"#3f3f3f","stroke-width":"1%"}).node.classList.add("cursor-pointer");var a={duration:1e3,swing:!0,when:"now",times:1/0,radius:.4*e.element.highlights[t].size+"%"};n.animate(a).attr({r:a.radius}),i.animate(a).attr({r:a.radius,"stroke-opacity":.2}),i.on("click",(function(){var s={source:e.$store.state.longread.structure,index:e.map[0],changes:{current_index:e.element.highlights[t].target}};e.$store.dispatch("longread/changeElement",s)})),i.on("mouseover",(function(){i._runner=i.animate({duration:500,when:"now"}).attr({stroke:"#90c9f9"}),u.style.color="#90c9f9"})),i.on("mouseout",(function(){i._runner.unschedule(),i.animate({duration:500,when:"now"}).attr({stroke:"#3f3f3f"}),u.style.color="#fff"}))}e.circles.add(i)},i=0;i<this.element.highlights.length;i++)s(i);this.bg.maskWith(this.mask).attr({fill:""+this.element.highlights_bg})},destroySVG:function(){this.draw.remove(),this.draw=null,this.bg=null},checkPos:function(e,t){var s=this,i=!0;return this.element.highlights.forEach((function(n){n.x-s.defaultSize<e&&n.x+s.defaultSize>e&&n.y-s.defaultSize<t&&n.y+s.defaultSize>t&&(s.$modal.methods.open("error","Указатели соприкасаются!"),i=!1)})),i}},mounted:function(){},computed:{is_editing_highlights:function(){return this.element.is_editing_highlights},highlights_bg:function(){return void 0==this.element.highlights_bg?"rgba(0,0,0,0.5)":this.element.highlights_bg},is_element_editing:function(){return this.element.is_editing},has_highlights:function(){return this.element.highlights.length>0},longread_element:function(){return this.$store.getters["longread/element"](this.map.slice(0,-2))},show_highlights:function(){return this.$store.state.longread.is_author&&this.element.is_editing||this.has_highlights},wrap_classes:function(){return{"ld-highlights-wrap_shrunk":!this.show_highlights}},width:function(){return this.$refs.highlights_container.offsetWidth},height:function(){return this.$refs.highlights_container.offsetHeight}},watch:{is_media_loaded:function(e){e&&!this.draw&&this.initSVG()},is_editing_highlights:function(e){e?this.$refs.highlights_container.classList.add("ld-highlights-container_highlighting"):this.$refs.highlights_container.classList.remove("ld-highlights-container_highlighting"),this.redraw()},is_element_editing:function(e){e||(this.element.is_editing_highlights=!1),this.redraw()},highlights_bg:function(){this.redraw()}},props:{element:{required:!0},map:{required:!0},is_media_loaded:{required:!0}}},Qe=Ke,et=(s("08f2"),Object(d["a"])(Qe,Ve,Xe,!1,null,null,null)),tt=et.exports,st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ld-add-container"},[s("div",{staticClass:"ld-add-container__button"},[s("span",{staticClass:"button",staticStyle:{position:"relative"},on:{click:e.open_buttons}},[e.root?[e._v(" Добавлю элемент ")]:[e._v(" Добавлю слайд ")]],2)]),s("transition",{attrs:{name:"fade"}},[e.show_buttons?s("modal",{attrs:{fromjs:!1,type:"belowclick",x:e.x,y:e.y},on:{hide:function(t){e.show_buttons=!1}}},[s("p",{staticStyle:{"margin-left":"10px"}},[e._v("Какой?")]),e._l(e.elements_types,(function(t,i){return[t.hidden?e._e():s("div",{key:i,staticClass:"mb-3"},e._l(t.elements,(function(t,i){return s("span",{key:i,staticClass:"button button-without-border d-block",on:{click:function(s){return e.check_elements(t)}}},[e._v(" "+e._s(t.name)+" ")])})),0)]}))],2):e._e()],1)],1)},it=[],nt=[{subtype:"intro",name:"Интро",component:"ld-intro",src:null,fileName:null,size:null,header:null,desc:null,type:null}],ut=s("5530"),at={type:"element",subtype:null,name:null,component:null,value:"",is_editing:!1},ot=[Object(ut["a"])(Object(ut["a"])({},at),{},{subtype:"paragraph",name:"Текст",component:"ld-paragraph"}),Object(ut["a"])(Object(ut["a"])({},at),{},{subtype:"header",name:"Заголовок",component:"ld-header"})],rt={type:"element",subtype:null,name:null,component:null,src:null,desc:null,fileName:null,size:null,highlights:[],highlights_bg:"rgba(0,0,0,0.65)",is_editing:!1,is_editing_highlights:!1},lt=[Object(ut["a"])(Object(ut["a"])({},rt),{},{subtype:"image",name:"Картинка",component:"ld-image"}),Object(ut["a"])(Object(ut["a"])({},rt),{},{subtype:"video",name:"Видео",component:"ld-video"})],dt={type:"element",subtype:null,name:null,component:null,url:null,highlights:[],highlights_bg:"rgba(0,0,0,0.5)",triple:!1,options:{}},ct=[Object(ut["a"])(Object(ut["a"])({},dt),{},{subtype:"code",name:"Codepen",component:"ld-iframe"}),Object(ut["a"])(Object(ut["a"])({},dt),{},{subtype:"youtube",name:"YouTube",component:"ld-iframe"}),Object(ut["a"])(Object(ut["a"])({},dt),{},{subtype:"figma",name:"Figma",component:"ld-iframe"}),Object(ut["a"])(Object(ut["a"])({},dt),{},{subtype:"miro",name:"Miro",component:"ld-iframe"}),Object(ut["a"])(Object(ut["a"])({},dt),{},{subtype:"sketchfab",name:"Sketchfab",component:"ld-iframe"})],ht=[{type:"intro",name:"Интро",elements:nt},{type:"text",name:"Текст",elements:ot},{type:"media",name:"Медиа",elements:lt},{type:"frame",name:"Фреймы",elements:ct}],mt={type:"container",subtype:null,name:null,component:null,elements:[],is_editing:!1,highlights:[],current_index:0,is_big:!1,show_slider_controls:!0},gt=[Object(ut["a"])(Object(ut["a"])({},mt),{},{subtype:"wrapper",name:"Коробка",component:"ld-container"}),Object(ut["a"])(Object(ut["a"])({},mt),{},{subtype:"element",name:"Элемент",component:"ld-container"})],_t={data:function(){return{elements_types:ht,show_buttons:!1,x:0,y:0}},methods:{open_buttons:function(e){this.x=e.clientX,this.y=e.clientY,this.show_buttons=!this.show_buttons},check_elements:function(e){var t=!0,s="Some error";this.show_buttons=!this.show_buttons,t?this.dispatch(e):this.$modal.methods.open("error",s)},dispatch:function(e){var t=this.destination,s=this.$_.find(gt,{subtype:"wrapper"}),i=this.$_.find(gt,{subtype:"element"});this.root&&(t=this.push({element:s,destination:this.$store.state.longread.structure}).element.elements),t=this.push({element:i,destination:t}).element.elements,this.push({element:e,destination:t}),this.$emit("added_element",e)},push:function(e){var t=this.$_.cloneDeep(e.element),s={destination:e.destination,element:t,index:this.index};return this.$store.dispatch("longread/addElement",s),{element:t}}},props:{destination:{},root:{default:function(){return!1}},container:{},index:{required:!0}}},pt=_t,ft=(s("61b4"),Object(d["a"])(pt,st,it,!1,null,"ade287cc",null)),vt=ft.exports,bt=function(e){e.component("ld-container",te),e.component("ld-intro",Ee),e.component("ld-paragraph",oe),e.component("ld-header",me),e.component("ld-image",Te),e.component("ld-video",Be),e.component("dropzone",$e),e.component("ld-iframe",Ge),e.component("ld-highlights",tt),e.component("ld-add-element",vt),e.component("modal",Z)};i["a"].config.productionTip=!1,i["a"].prototype.$modal=Z,i["a"].prototype.$modal=Z,V(i["a"]),bt(i["a"]),new i["a"]({router:I,store:M,render:function(e){return e(k)}}).$mount("#app")},"578d":function(e,t,s){"use strict";var i=s("47de"),n=s.n(i);n.a},"597f":function(e,t,s){},"61b4":function(e,t,s){"use strict";var i=s("8e33"),n=s.n(i);n.a},"68bc":function(e,t,s){"use strict";var i=s("6b34"),n=s.n(i);n.a},"6b34":function(e,t,s){},"716f":function(e,t,s){},"8e33":function(e,t,s){},"8f0a":function(e,t,s){"use strict";var i=s("a1b5"),n=s.n(i);n.a},a19f:function(e,t,s){},a1b5:function(e,t,s){},a39e:function(e,t,s){"use strict";var i=s("a19f"),n=s.n(i);n.a},bd0f:function(e,t,s){},c498:function(e,t,s){"use strict";var i=s("4768"),n=s.n(i);n.a},c8fa:function(e,t,s){e.exports=s.p+"img/menu.a268186e.svg"},f68d:function(e,t,s){},fccf:function(e,t,s){"use strict";var i=s("1c79"),n=s.n(i);n.a}});
//# sourceMappingURL=app.5be13c8e.js.map